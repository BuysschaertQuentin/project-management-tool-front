<aside [class]="isCollapsed() ? 'w-16' : 'w-64'"
       class="bg-white border-r border-gray-200 h-screen flex flex-col transition-all duration-300 ease-in-out">

  <!-- Logo -->
  <div class="h-16 flex items-center px-4 border-b border-gray-100">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-200">
        P
      </div>
      @if (!isCollapsed()) {
        <span class="font-bold text-xl text-gray-800 tracking-tight">PMT</span>
      }
    </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 py-6 px-3 space-y-1 overflow-y-auto">
    @for (item of menuItems; track item.route) {
      <a [routerLink]="item.route"
         routerLinkActive="bg-blue-50 text-blue-600 border-blue-200"
         [routerLinkActiveOptions]="{exact: false}"
         [class]="isCollapsed() ? 'justify-center' : ''"
         class="flex items-center gap-3 px-3 py-2.5 rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all border border-transparent group">

        <!-- Icons -->
        <span class="text-gray-400 group-hover:text-gray-600 flex-shrink-0">
          @switch (item.icon) {
            @case ('dashboard') {
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
            }
            @case ('folder') {
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>
            }
            @case ('tasks') {
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 6h13"/><path d="M8 12h13"/><path d="M8 18h13"/><path d="M3 6h.01"/><path d="M3 12h.01"/><path d="M3 18h.01"/></svg>
            }
            @case ('users') {
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            }
          }
        </span>

        @if (!isCollapsed()) {
          <span class="font-medium text-sm whitespace-nowrap">{{ item.label }}</span>
        }
      </a>
    }
  </nav>

  <!-- Collapse Button -->
  <div class="p-3 border-t border-gray-100">
    <button (click)="toggleCollapse()"
            class="w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-gray-700 transition-all">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 transition-transform" [class.rotate-180]="isCollapsed()" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
      @if (!isCollapsed()) {
        <span class="text-sm">RÃ©duire</span>
      }
    </button>
  </div>
</aside>
